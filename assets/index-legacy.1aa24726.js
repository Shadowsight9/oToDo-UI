;(function(){function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}var __vite_style__=document.createElement('style');__vite_style__.innerHTML="body{font-family:Avenir,Helvetica,Arial,sans-serif;padding:0;margin:0}div.footer[data-v-21f51f11]{height:40px;display:flex}div.footer .new-list[data-v-21f51f11]{padding:0 10px;flex:1 1 80%;display:flex;align-items:center;border-radius:4px}div.footer .new-group[data-v-21f51f11]{padding:0 10px;border-radius:4px}div.footer .new-group[data-v-21f51f11]:hover,div.footer .new-list[data-v-21f51f11]:hover{background-color:#d1d1d1}div.footer .icon[data-v-21f51f11]{width:25px;height:100%}.my-dialog[data-v-081211b8]{position:absolute;width:100vw;height:100vh;left:0;top:0;display:flex;justify-content:center;align-items:center;background-color:rgba(0,0,0,.3)}.my-dialog .wrapper[data-v-081211b8]{width:350px;background-color:#f3f3f3;box-shadow:0 2px 6px rgba(0,0,0,.3);border-radius:8px;display:flex;flex-direction:column;align-items:flex-start;padding:25px}.my-dialog .wrapper h1.title[data-v-081211b8]{margin:0}.my-dialog .wrapper p.content[data-v-081211b8]{font-size:16px;margin:1em 0}.my-dialog .wrapper div.button-group[data-v-081211b8]{align-self:center;width:100%;margin-top:30px;display:flex;justify-content:space-around}.my-dialog .wrapper div.button-group button[data-v-081211b8]{width:40%;height:40px;border:1px solid #868686;border-radius:8px;box-shadow:0 1px 1px rgba(0,0,0,.3);background-color:#fff;font-size:16px}.my-dialog .wrapper div.button-group .button-ok[data-v-081211b8]{background-color:#e81123;color:#fff}.my-dialog[data-v-02feee5d]{position:absolute;width:100vw;height:100vh;left:0;top:0;display:flex;justify-content:center;align-items:flex-start;background-color:transparent}.my-dialog .wrapper[data-v-02feee5d]{min-width:300px;margin-top:30px;background-color:#f3f3f3;box-shadow:0 2px 6px rgba(0,0,0,.3);border-radius:8px;padding:0 25px;display:flex;justify-content:space-between;align-items:center}.my-dialog .wrapper p.content[data-v-02feee5d]{font-size:16px}.my-dialog .wrapper .icon[data-v-02feee5d]{width:24px;height:24px;cursor:pointer}div.profile[data-v-d08cb0d4]{display:flex;align-items:center;justify-content:center;position:relative;height:80px}div.profile>*[data-v-d08cb0d4]{height:60px}div.profile .profile-avatar[data-v-d08cb0d4]{width:60px;background-color:#546671;border-radius:100%}div.profile .profile-account[data-v-d08cb0d4]{width:180px;display:flex;flex-direction:column;align-items:center;justify-content:center}div.profile .profile-account .account-name[data-v-d08cb0d4]{font-size:14px;font-weight:700}div.profile .profile-account .account-email[data-v-d08cb0d4]{font-size:12px;display:inline-flex;margin-top:9.6px;color:#606060}div.profile .profile-account .icon[data-v-d08cb0d4]{width:14px;height:14px}div.search-bar[data-v-3c9bdb52]{height:35px;width:85%;display:flex;align-items:center;background-color:#fbfbfb;border:1px solid #e7e7e7;border-bottom:2px solid #868686;border-radius:4px}div.search-bar[data-v-3c9bdb52]:hover{background-color:#f5f5f5}div.search-bar input[data-v-3c9bdb52]{margin-left:10px;height:100%;width:80%;background-color:transparent;font-size:14px;border:0;outline:none}div.search-bar .icon[data-v-3c9bdb52]{height:20px;width:20px;padding:4px;margin-right:6px;border-radius:4px}div.search-bar .icon[data-v-3c9bdb52]:hover{background-color:#ededed}li[data-v-1fe37e42]{width:100%;list-style:none;height:40px;display:inline-flex;align-items:center;border-radius:4px}li[data-v-1fe37e42]:hover{background-color:#e9e9e9}li[data-v-1fe37e42]:before{content:\"\";background-color:transparent;height:18px;width:3px;border-radius:4px;margin-right:4px}li .icon[data-v-1fe37e42]{width:20px;height:20px;margin-right:10px}li .item-title[data-v-1fe37e42]{flex:1 1 150px;font-size:16px}li .my-day[data-v-1fe37e42]{color:#546671}li .important-todo[data-v-1fe37e42]{color:#ac395d}li .in-plan[data-v-1fe37e42]{color:#166f6b}li .assign-to-me[data-v-1fe37e42]{color:#1e704d}li .task-todo[data-v-1fe37e42]{color:#5c70be}.checked[data-v-1fe37e42]{background-color:#e9e9e9}.checked[data-v-1fe37e42]:before{background-color:#005fb8}li .todo-num[data-v-1fe37e42]{width:16px;text-align:center;font-size:12px;margin-right:10px;background-color:#ddd;padding:3px;border-radius:100%}li[data-v-29104c08]{width:100%;list-style:none;height:40px;display:inline-flex;align-items:center;border-radius:4px}li[data-v-29104c08]:hover{background-color:#e9e9e9}li[data-v-29104c08]:before{content:\"\";background-color:transparent;height:18px;width:3px;border-radius:4px;margin-right:4px}li .icon[data-v-29104c08]{width:20px;height:20px;margin-right:10px}li .item-title[data-v-29104c08]{flex:1 1 150px;font-size:16px}li .my-day[data-v-29104c08]{color:#546671}li .important-todo[data-v-29104c08]{color:#ac395d}li .in-plan[data-v-29104c08]{color:#166f6b}li .assign-to-me[data-v-29104c08]{color:#1e704d}li .task-todo[data-v-29104c08]{color:#5c70be}.checked[data-v-29104c08]{background-color:#e9e9e9}.checked[data-v-29104c08]:before{background-color:#005fb8}.todo-group-list[data-v-29104c08]{padding-left:30px;width:calc(100% - 30px)}.menu-wrapper[data-v-9d571736]{display:flex;flex-direction:column;align-items:center;background-color:#f1f1f1;color:#1b1b1b}.menu-wrapper>*[data-v-9d571736]{width:100%}.body[data-v-9d571736]{height:100%;display:flex;flex-direction:column;align-items:center;overflow:scroll}.body>*[data-v-9d571736]{width:100%}.body .nav-menu ul[data-v-9d571736]{padding:0;margin:10px 10px 0}.body .nav-menu ul .delimiter[data-v-9d571736]{border:none;background-color:#dfdfdf;height:1px;width:95%;margin:5px}li.todo-item[data-v-1b8b2cbe]{display:inline-flex;align-items:center;height:60px;width:100%;margin-bottom:10px;background-color:rgba(246,246,246,.9);border-radius:4px}li.todo-item[data-v-1b8b2cbe]:hover{background-color:#f6f6f6}li.todo-item>*[data-v-1b8b2cbe]{margin:0 10px}li.todo-item .icon[data-v-1b8b2cbe]{padding:2px;height:24px;width:24px;flex-grow:0;flex-shrink:0;color:#868686}li.todo-item .tick[data-v-1b8b2cbe]{height:18px;width:18px;border:#868686 solid 2px;border-radius:100%;color:#f6f6f6}li.todo-item .tick[data-v-1b8b2cbe]:hover,li.todo-item .tick-completed[data-v-1b8b2cbe]{color:#868686}li.todo-item .todo-info[data-v-1b8b2cbe]{flex:1 1 100%}li.todo-item .todo-info .todo-text[data-v-1b8b2cbe]{font-size:1em}li.todo-item .todo-info .todo-text-completed[data-v-1b8b2cbe]{color:#868686;text-decoration:line-through}li.todo-item .todo-info .todo-detail[data-v-1b8b2cbe]{font-size:.8em;color:#868686;margin-top:3px;display:inline-flex;align-items:center;justify-content:center}li.todo-item .todo-info .todo-detail .icon[data-v-1b8b2cbe]{height:16px;width:16px}li.todo-item .todo-info .todo-detail span[data-v-1b8b2cbe]{margin:0 4px}li.todo-item .todo-info .todo-detail span[data-v-1b8b2cbe]:last-child{display:none}.footer[data-v-0a67bd39]{display:flex;height:120px;align-items:center;justify-content:center}.footer .add-todo[data-v-0a67bd39]{display:flex;width:90%;height:60px;border-radius:4px;background-color:rgba(246,246,246,.85);align-items:center}.footer .add-todo[data-v-0a67bd39]:hover{background-color:rgba(246,246,246,.9)}.footer .add-todo #icon[data-v-0a67bd39]{display:unset;margin:0 20px;padding:0;width:24px;height:24px;border:2px solid #868686;border-radius:100%}.footer .add-todo .add-todo-input[data-v-0a67bd39]{box-sizing:border-box;height:100%;width:100px;flex:1 1;border:0;outline:none;font-size:20px;background:transparent}.footer .add-todo div.selector[data-v-0a67bd39]{display:flex;height:100%}.footer .add-todo div.selector div[data-v-0a67bd39]{height:100%;position:relative;display:flex;align-items:center;justify-content:center;padding:0 5px;border-radius:4px;overflow:visible}.footer .add-todo div.selector div span[data-v-0a67bd39]{overflow:hidden}.footer .add-todo div.selector div .icon[data-v-0a67bd39]{border:unset;width:25px;height:25px;margin:0;color:rgba(0,0,0,.6)}.footer .add-todo div.selector div[data-v-0a67bd39]:hover{background-color:#f6f6f6}.board-header[data-v-7a838a63]{height:100px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;color:#fff}.board-header .header-title-icon[data-v-7a838a63]{height:40px;width:40px}.board-header .header-title-text[data-v-7a838a63]{flex:1;width:100%;font-size:2rem;margin-left:10px;line-height:100%}.board-header .header-title p[data-v-7a838a63],.board-header .header-title h1[data-v-7a838a63]{margin:.2em 0}.board-header .header-button-group .icon[data-v-7a838a63]{width:25px;height:25px;margin:5px;padding:5px;border-radius:4px}.board-header .header-button-group .icon[data-v-7a838a63]:hover{background-color:rgba(0,0,0,.3)}.todo-detail[data-v-f46e94fe]{width:100%;height:100%;z-index:100;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;background-color:#fafafa}.todo-detail>*[data-v-f46e94fe]{width:95%;box-sizing:border-box;border-radius:4px;border:1px solid #ececec;background-color:#fdfdfd;margin:0 0 10px;padding:10px}.todo-detail .icon[data-v-f46e94fe]{width:25px;height:25px}.todo-detail .close[data-v-f46e94fe]{align-self:flex-end;margin:10px;padding:0;color:#606060;background-color:transparent;border:0}.todo-detail .close[data-v-f46e94fe]:hover{cursor:pointer}.todo-detail .delimiter[data-v-f46e94fe]{border:none;background-color:#e9e9e9;height:1px;margin:2px 10px}.todo-detail .todo-steps .steps-title[data-v-f46e94fe]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.todo-detail .todo-steps .steps-title .tick[data-v-f46e94fe]{width:18px;height:18px;padding:2px;color:transparent;border:#868686 solid 2px;border-radius:100%}.todo-detail .todo-steps .steps-title .tick[data-v-f46e94fe]:hover{color:#868686}.todo-detail .todo-steps .steps-title input[data-v-f46e94fe]{flex:1;width:100%;margin:0 10px;height:100%;font-size:1.6rem;padding:0;border:0;background-color:transparent;outline:none}.todo-detail .todo-steps .step-item[data-v-f46e94fe]{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:4px}.todo-detail .todo-steps .step-item[data-v-f46e94fe]:hover{background-color:#f1f1f1}.todo-detail .todo-steps .step-item .tick[data-v-f46e94fe]{width:15px;height:15px;padding:2px;color:transparent;border:#868686 solid 2px;border-radius:100%}.todo-detail .todo-steps .step-item .tick[data-v-f46e94fe]:hover{color:#868686}.todo-detail .todo-steps .step-item .delete[data-v-f46e94fe]{color:#606060}.todo-detail .todo-steps .step-item .delete[data-v-f46e94fe]:hover{cursor:pointer}.todo-detail .todo-steps .step-item input[data-v-f46e94fe]{flex:1;width:100%;margin:0 10px;height:100%;font-size:1.2rem;padding:0;border:0;background-color:transparent;outline:none}.todo-detail ul.item-list[data-v-f46e94fe]{padding:0;color:#868686;box-sizing:border-box}.todo-detail ul.item-list .detail-item[data-v-f46e94fe]{display:flex;align-items:center;justify-content:center;gap:10px;height:60px}.todo-detail ul.item-list .detail-item[data-v-f46e94fe]:hover{background-color:#f7f7f7}.todo-detail ul.item-list .detail-item span[data-v-f46e94fe]{flex:1;width:100%}.todo-detail ul.item-list .detail-item .cancel[data-v-f46e94fe]:hover{background-color:#f7f7f7}.todo-detail ul.item-list .detail-item .icon[data-v-f46e94fe]{height:100%;padding:0 10px}.todo-detail textarea[data-v-f46e94fe]{resize:none;font-size:1.2em;outline:none}.main-board[data-v-793a442f]{display:flex;align-items:center}.main-board>*[data-v-793a442f]{height:100%}.main-board .board-wrapper[data-v-793a442f]{flex:1;background-image:url(/oToDo-UI/assets/background-image.cfd4125f.jpg);background-repeat:no-repeat;background-size:cover;border-radius:8px;display:flex;flex-direction:column;align-items:center}.main-board .board-wrapper>*[data-v-793a442f]{width:100%}.main-board .board-wrapper .body[data-v-793a442f]{display:flex;flex-direction:column;align-items:center;height:100%;overflow:scroll}.main-board .board-wrapper .body>*[data-v-793a442f]{width:90%}.main-board .board-wrapper .body ul.todo-list[data-v-793a442f]{flex:1 1 800px;margin:0;padding:0}.main-board .aside[data-v-793a442f]{width:350px;height:100%}#app{display:flex;height:100vh;width:100vw;user-select:none}#app>*{height:100vh}#app>:nth-child(1){flex:1 0 260px}#app>:nth-child(2){flex:4 4 1200px;min-width:250px}#app>:nth-child(3){flex:1 1 320px}input[data-v-8d312fe0]{background-color:#005fb8;color:#fff;height:36px;width:100px;margin:0 10px;border:0;float:right}input[data-v-8d312fe0]:hover{background-color:#03498b;cursor:pointer}input[data-v-8d312fe0]:disabled{background-color:#d1d1d1;color:#868686;cursor:wait}.wrapper[data-v-ef8f030c]{height:100vh;width:100vw;display:flex;align-items:center;justify-content:center;background:linear-gradient(to right,#a8cecf,#e6ae8c)}.wrapper form[data-v-ef8f030c]{display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#fff;max-width:380px;width:calc(100% - 40px);min-height:330px;box-shadow:0 2px 6px rgba(0,0,0,.3);padding:0 40px}@media (max-width: 768px){.wrapper form[data-v-ef8f030c]{height:100%;width:100vw}}.wrapper form .img-loading[data-v-ef8f030c]{width:calc(100% + 80px);visibility:hidden}.wrapper form .hidden[data-v-ef8f030c]{visibility:unset}.wrapper form .img-logo[data-v-ef8f030c]{height:80px;width:min-content;object-fit:contain;margin-top:40px}.wrapper form h1[data-v-ef8f030c]{margin:10px 0 0 10px;font-size:24px}.wrapper form .img-logo[data-v-ef8f030c],.wrapper form h1[data-v-ef8f030c]{align-self:flex-start}.wrapper form .input-group[data-v-ef8f030c]{width:98%}.wrapper form .button-group[data-v-ef8f030c]{margin-top:10px;margin-bottom:40px;align-self:flex-end}.group-row[data-v-6fb6981f]{margin:20px 0}.group-row p[data-v-6fb6981f]{display:none}.group-row input[data-v-6fb6981f]{display:block;width:100%;height:25px;padding:6px;border:0;border-bottom:1px solid rgba(0,0,0,.6);outline:none;font-size:16px}.group-row input[data-v-6fb6981f]:hover{border-bottom:1px solid rgba(0,0,0,.9)}.group-wearning p[data-v-6fb6981f]{display:unset;font-size:14px;color:#e81123}.group-wearning input[data-v-6fb6981f],.group-wearning input[data-v-6fb6981f]:hover{border-bottom:1.5px solid #e81123}.olink[data-v-91b1b28a]{font-size:14px;margin:0}.olink a[data-v-91b1b28a]{color:#005fb8;cursor:pointer}.olink a[data-v-91b1b28a]:hover{text-decoration:underline;color:#868686}ul[data-v-d57e5894]{list-style:none;background-color:#fff;padding:2px;border-radius:4px;box-shadow:0 2px 6px rgba(0,0,0,.3);margin:5px}ul li[data-v-d57e5894]{display:inline-flex;box-sizing:border-box;justify-content:left;align-items:center;padding:10px;width:100%}ul li .icon[data-v-d57e5894]{width:25px;height:25px}ul li .item-text[data-v-d57e5894]{margin-left:5px;white-space:nowrap}ul li[data-v-d57e5894]:hover{background-color:#f3f3f3}\n";document.head.appendChild(__vite_style__);System.register(['./vendor-legacy.dc1f04d9.js'],function(){'use strict';var resolveComponent,openBlock,createBlock,createPinia,o,jsonBigInt,axios,defineComponent,computed,createElementBlock,createBaseVNode,unref,createVNode,pushScopeId,popScopeId,ref,defineStore,toDisplayString,h,render,useRouter,reactive,resolveDirective,withDirectives,withKeys,normalizeClass,createCommentVNode,Fragment,renderList,vShow,watch,toRef,vModelText,onMounted,withModifiers,renderSlot,vModelDynamic,isRef,createTextVNode,withCtx,createRouter,createWebHistory,createApp;return{setters:[function(module){resolveComponent=module.r;openBlock=module.o;createBlock=module.c;createPinia=module.a;o=module.b;jsonBigInt=module.j;axios=module.d;defineComponent=module.e;computed=module.f;createElementBlock=module.g;createBaseVNode=module.h;unref=module.u;createVNode=module.i;pushScopeId=module.p;popScopeId=module.k;ref=module.l;defineStore=module.m;toDisplayString=module.t;h=module.n;render=module.q;useRouter=module.s;reactive=module.v;resolveDirective=module.w;withDirectives=module.x;withKeys=module.y;normalizeClass=module.z;createCommentVNode=module.A;Fragment=module.F;renderList=module.B;vShow=module.C;watch=module.D;toRef=module.E;vModelText=module.G;onMounted=module.H;withModifiers=module.I;renderSlot=module.J;vModelDynamic=module.K;isRef=module.L;createTextVNode=module.M;withCtx=module.N;createRouter=module.O;createWebHistory=module.P;createApp=module.Q;}],execute:function(){const p=function polyfill(){const relList=document.createElement('link').relList;if(relList&&relList.supports&&relList.supports('modulepreload')){return;}for(const link of document.querySelectorAll('link[rel="modulepreload"]')){processPreload(link);}new MutationObserver(mutations=>{for(const mutation of mutations){if(mutation.type!=='childList'){continue;}for(const node of mutation.addedNodes){if(node.tagName==='LINK'&&node.rel==='modulepreload')processPreload(node);}}}).observe(document,{childList:true,subtree:true});function getFetchOpts(script){const fetchOpts={};if(script.integrity)fetchOpts.integrity=script.integrity;if(script.referrerpolicy)fetchOpts.referrerPolicy=script.referrerpolicy;if(script.crossorigin==='use-credentials')fetchOpts.credentials='include';else if(script.crossorigin==='anonymous')fetchOpts.credentials='omit';else fetchOpts.credentials='same-origin';return fetchOpts;}function processPreload(link){if(link.ep)// ep marker = processed
return;link.ep=true;// prepopulate the load record
const fetchOpts=getFetchOpts(link);fetch(link.href,fetchOpts);}};false&&p();var App_vue_vue_type_style_index_0_lang='';var _export_sfc=(sfc,props)=>{const target=sfc.__vccOpts||sfc;for(const[key,val]of props){target[key]=val;}return target;};const _sfc_main$l={};function _sfc_render(_ctx,_cache){const _component_router_view=resolveComponent("router-view");return openBlock(),createBlock(_component_router_view);}var App=/*#__PURE__*/_export_sfc(_sfc_main$l,[['render',_sfc_render]]);const Store=createPinia();function setCookie(name,value,expireTime=800){if(typeof expireTime==="number"){const exp=new Date();exp.setTime(exp.getTime()+expireTime*1e3);document.cookie=name+"="+encodeURI(value)+";expires="+exp.toUTCString();}else{document.cookie=name+"="+encodeURI(value)+";expires="+expireTime.toUTCString();}}function getCookie(name){const arr=document.cookie.match(new RegExp("(^| )"+name+"=([^;]*)(;|$)"));if(arr!=null){return decodeURI(arr[2]);}else{return null;}}function clearCookie(name){const exp=new Date();exp.setTime(exp.getTime()-1);const cval=getCookie(name);if(cval!=null)document.cookie=name+"="+cval+";expires="+exp.toUTCString();}var cookie={setCookie,getCookie,clearCookie};const jwtToExpireTime=token=>{const timeStamp=o(token).exp;if(typeof timeStamp==="number"){return new Date(timeStamp*1e3);}else{throw new TypeError("cannot extract time from jwt");}};const setAccessToken=(token,maxAge)=>{if(maxAge){cookie.setCookie("ACCESS_TOKEN","",maxAge);}else{cookie.setCookie("ACCESS_TOKEN","",jwtToExpireTime(token));}localStorage.setItem("ACCESS_TOKEN",token);};const setRefreshToken=token=>{localStorage.setItem("REFRESH_TOKEN",token);};const getAccessToken=()=>{if(cookie.getCookie("ACCESS_TOKEN")!==null){return localStorage.getItem("ACCESS_TOKEN");}else{return null;}};const getRefreshToken=()=>{return localStorage.getItem("REFRESH_TOKEN");};const removeAllToken=()=>{cookie.clearCookie("ACCESS_TOKEN");localStorage.removeItem("ACCESS_TOKEN");localStorage.removeItem("REFRESH_TOKEN");};var token={setAccessToken,setRefreshToken,getAccessToken,getRefreshToken,removeAllToken};const JSONBig=jsonBigInt({useNativeBigInt:true});class Http{constructor(){_defineProperty(this,"axiosInstance",void 0);this.axiosInstance=axios.create({baseURL:"/api",timeout:1e4,transformResponse:[data=>JSONBig.parse(data)]});this.initInterceptors();}static getInstance(){if(!Http.instance){Http.instance=new Http();}return Http.instance;}requestSuccess(config){if(config.headers&&config.headers.needToken!==false){config.headers["Authorization"]="Bearer "+token.getAccessToken();}return config;}requestFail(error){Promise.reject(error.toJSON());}responseSuccess(response){if(response.headers&&response.headers.authorization){const jwtString=response.headers.authorization.split(" ")[1];token.setAccessToken(jwtString);}return Promise.resolve(response);}responseFail(error){const res=error.response;if(res){switch(res.status){case 400:error.message="\u7528\u6237\u540D\u6216\u5BC6\u7801\u9519\u8BEF\uFF0C\u8BF7\u91CD\u8BD5";break;case 412:error.message="\u5BA2\u6237\u7AEF\u8BF7\u6C42\u4FE1\u606F\u7684\u5148\u51B3\u6761\u4EF6\u9519\u8BEF";break;case 401:error.message="\u767B\u5F55\u5931\u6548\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55";break;case 500:case 502:case 504:case 505:error.message="\u670D\u52A1\u5668\u672A\u54CD\u5E94\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458";break;case 503:error.message="\u670D\u52A1\u5668\u7E41\u5FD9\uFF0C\u8BF7\u91CD\u8BD5";break;case 501:error.message="\u670D\u52A1\u5668\u4E0D\u652F\u6301\u8BF7\u6C42\u7684\u529F\u80FD\uFF0C\u65E0\u6CD5\u5B8C\u6210\u8BF7\u6C42";break;default:error.message="\u7CFB\u7EDF\u5F02\u5E38\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458";break;}}else if(error.message==="Network Error"){error.message="\u8BF7\u68C0\u67E5\u7F51\u7EDC\u8FDE\u63A5\u662F\u5426\u6B63\u5E38";}return Promise.reject(error);}initInterceptors(){this.axiosInstance.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";this.axiosInstance.interceptors.request.use(this.requestSuccess,this.requestFail);this.axiosInstance.interceptors.response.use(this.responseSuccess,this.responseFail);}}_defineProperty(Http,"instance",void 0);const http=Http.getInstance().axiosInstance;const isLoggedIn=()=>{if(typeof token.getAccessToken()==="string"){return true;}else{return false;}};const register=(userName,nickname,password)=>{return http.post("/users",{userName,password,nickname});};const getCurrentUser=async()=>{const response=await http.get("/users/current");return response.data;};var Api;(function(Api2){Api2["SessionURL"]="/sessions";Api2["sessionTokenURL"]="/sessions/current/tokens";})(Api||(Api={}));const loginSession=async(userName,password)=>{const resopnse=await http.post(Api.SessionURL,{userName,password},{headers:{needToken:false}});const{accessToken,expiresIn,refreshToken}=resopnse.data;token.setAccessToken(accessToken,expiresIn);if(typeof refreshToken=="string"){token.setRefreshToken(refreshToken);}};const testSession=()=>{return http.get(Api.SessionURL);};const deleteSession=async()=>{await http.delete(Api.SessionURL);token.removeAllToken();};class TokenTimer{constructor(){_defineProperty(this,"intervelId",0);}static getInstance(){if(!TokenTimer.instance){TokenTimer.instance=new TokenTimer();}return TokenTimer.instance;}async startTimer(){this.intervelId=setInterval(this.test,TokenTimer.intervel);}async stopTimer(){clearInterval(this.intervelId);}test(){testSession();}}_defineProperty(TokenTimer,"instance",void 0);_defineProperty(TokenTimer,"intervel",2e3);const _hoisted_1$h={"aria-hidden":"true"};const _hoisted_2$c=["xlink:href","fill"];const _sfc_main$k=/* @__PURE__ */defineComponent({props:{prefix:{type:String,default:"icon"},name:{type:String,required:true},color:{type:String,default:"#333"}},setup(__props){const props=__props;const symbolId=computed(()=>`#${props.prefix}-${props.name}`);return(_ctx,_cache)=>{return openBlock(),createElementBlock("svg",_hoisted_1$h,[createBaseVNode("use",{"xlink:href":unref(symbolId),fill:__props.color},null,8,_hoisted_2$c)]);};}});var MenuFooter_vue_vue_type_style_index_0_scoped_true_lang='';const _withScopeId$6=n=>(pushScopeId("data-v-21f51f11"),n=n(),popScopeId(),n);const _hoisted_1$g={class:"footer"};const _hoisted_2$b={class:"new-list"};const _hoisted_3$9=/* @__PURE__ */_withScopeId$6(()=>/* @__PURE__ */createBaseVNode("div",null,"\u65B0\u5EFA\u5217\u8868",-1));const _hoisted_4$7={class:"new-group"};const _sfc_main$j=/* @__PURE__ */defineComponent({setup(__props){return(_ctx,_cache)=>{return openBlock(),createElementBlock("div",_hoisted_1$g,[createBaseVNode("div",_hoisted_2$b,[createVNode(_sfc_main$k,{class:"icon",name:"plus"}),_hoisted_3$9]),createBaseVNode("div",_hoisted_4$7,[createVNode(_sfc_main$k,{class:"icon",name:"new-group"})])]);};}});var MenuFooter=/* @__PURE__ */_export_sfc(_sfc_main$j,[["__scopeId","data-v-21f51f11"]]);function userDTO2VO(dtoData){const createdAt=new Date(dtoData.createdAt);const updatedAt=new Date(dtoData.updatedAt);const voData={...dtoData,createdAt,updatedAt};return voData;}const fixedMenuData=ref([{id:1n,name:"\u6211\u7684\u4E00\u5929",isLeaf:true,count:0,type:"my-day",iconName:"sun",isChecked:true},{id:2n,name:"\u91CD\u8981",isLeaf:true,count:0,type:"important-todo",iconName:"star",isChecked:false},{id:3n,name:"\u8BA1\u5212\u5185",isLeaf:true,count:0,type:"in-plan",iconName:"plan",isChecked:false},{id:4n,name:"\u5DF2\u5206\u914D\u7ED9\u6211",isLeaf:true,count:0,type:"assign-to-me",iconName:"user",isChecked:false},{id:5n,name:"\u4EFB\u52A1",isLeaf:true,count:0,type:"task-todo",iconName:"home",isChecked:false}]);function menuDTO2VO(dtoData){const voList=[];dtoData.forEach(item=>{let voItem;if(item.children){voItem={...item,type:"todo-folder",isChecked:false,children:menuDTO2VO(item.children)};}else{voItem={...item,type:"todo-list",isChecked:false,children:[]};}voList.push(voItem);});return voList;}const useDataStore=defineStore("useData",{state:()=>({userData:null,navData:[],fixedTodoData:null,todoListData:[]}),actions:{setUser(data){this.userData=userDTO2VO(data);},setNavTree(data){this.navData=menuDTO2VO(data);},setFixedTodo(data){this.fixedTodoData=data;},setTodoList(data){this.todoListData=data;}}});var ODialog_vue_vue_type_style_index_0_scoped_true_lang='';var OMessage_vue_vue_type_style_index_0_scoped_true_lang='';const _hoisted_1$f={class:"my-dialog"};const _hoisted_2$a={class:"wrapper"};const _hoisted_3$8={class:"content"};const _sfc_main$i=/* @__PURE__ */defineComponent({props:{content:{type:String,default:"\u63D0\u793A\u5185\u5BB9"},mountDom:{type:HTMLDivElement,default:""}},setup(__props){const props=__props;const handleX=()=>{props.mountDom.remove();};return(_ctx,_cache)=>{return openBlock(),createElementBlock("div",_hoisted_1$f,[createBaseVNode("div",_hoisted_2$a,[createBaseVNode("p",_hoisted_3$8,toDisplayString(__props.content),1),createVNode(_sfc_main$k,{class:"icon",name:"close",onClick:handleX})])]);};}});var OMessage=/* @__PURE__ */_export_sfc(_sfc_main$i,[["__scopeId","data-v-02feee5d"]]);const OpenMessage=(content,time=1)=>{const div=document.createElement("div");div.setAttribute("class","o-message");document.body.appendChild(div);if(typeof content!=="string"){content=content.message;}const VNode=h(OMessage,{mountDom:div,content});render(VNode,div);setTimeout(()=>div.remove(),time*1e3);};var MenuProfile_vue_vue_type_style_index_0_scoped_true_lang='';const _withScopeId$5=n=>(pushScopeId("data-v-d08cb0d4"),n=n(),popScopeId(),n);const _hoisted_1$e={class:"profile"};const _hoisted_2$9=/* @__PURE__ */_withScopeId$5(()=>/* @__PURE__ */createBaseVNode("div",{class:"profile-avatar"},null,-1));const _hoisted_3$7={class:"profile-account"};const _hoisted_4$6={class:"account-name"};const _hoisted_5$5={class:"account-email"};const _sfc_main$h=/* @__PURE__ */defineComponent({setup(__props){const dataStore=useDataStore();const router=useRouter();const listLmbHandler=index=>{switch(index){case 0:deleteSession().then(()=>{token.removeAllToken();router.push({name:"login"});}).catch(err=>OpenMessage(err,2));break;default:return;}};const listLmbMenu=reactive({data:[{text:"\u9000\u51FA\u767B\u5F55",iconName:"home"}],handler:listLmbHandler});const pos=ref("bottom");return(_ctx,_cache)=>{var _unref$userData,_unref$userData2;const _directive_lmb_menu=resolveDirective("lmb-menu");return withDirectives((openBlock(),createElementBlock("div",_hoisted_1$e,[_hoisted_2$9,createBaseVNode("div",_hoisted_3$7,[createBaseVNode("div",_hoisted_4$6,toDisplayString((_unref$userData=unref(dataStore).userData)===null||_unref$userData===void 0?void 0:_unref$userData.name),1),createBaseVNode("div",_hoisted_5$5,[createBaseVNode("span",null,toDisplayString((_unref$userData2=unref(dataStore).userData)===null||_unref$userData2===void 0?void 0:_unref$userData2.email),1),createVNode(_sfc_main$k,{class:"icon",name:"expand"})])])])),[[_directive_lmb_menu,unref(listLmbMenu),pos.value]]);};}});var MenuProfile=/* @__PURE__ */_export_sfc(_sfc_main$h,[["__scopeId","data-v-d08cb0d4"]]);var MenuSearchBar_vue_vue_type_style_index_0_scoped_true_lang='';const _hoisted_1$d={class:"search-bar"};const _sfc_main$g=/* @__PURE__ */defineComponent({emits:["search"],setup(__props,{emit}){const text=ref("");return(_ctx,_cache)=>{return openBlock(),createElementBlock("div",_hoisted_1$d,[createBaseVNode("input",{type:"text",placeholder:"Search",onInput:_cache[0]||(_cache[0]=$event=>text.value=$event.target.value),onKeyup:_cache[1]||(_cache[1]=withKeys($event=>emit("search",text.value),["enter"]))},null,32),createVNode(_sfc_main$k,{class:"icon",name:"search",onClick:_cache[2]||(_cache[2]=$event=>emit("search",text.value))})]);};}});var MenuSearchBar=/* @__PURE__ */_export_sfc(_sfc_main$g,[["__scopeId","data-v-3c9bdb52"]]);var NavItem_vue_vue_type_style_index_0_scoped_true_lang='';const _hoisted_1$c={class:"item-title"};const _hoisted_2$8={key:0,class:"todo-num"};const _sfc_main$f=/* @__PURE__ */defineComponent({props:{data:null},setup(__props){return(_ctx,_cache)=>{return openBlock(),createElementBlock("li",{class:normalizeClass({checked:__props.data.isChecked})},[createVNode(_sfc_main$k,{class:normalizeClass(["icon",__props.data.type]),name:__props.data.iconName||"list"},null,8,["class","name"]),createBaseVNode("span",_hoisted_1$c,toDisplayString(__props.data.name),1),__props.data.count?(openBlock(),createElementBlock("span",_hoisted_2$8,toDisplayString(__props.data.count),1)):createCommentVNode("",true)],2);};}});var NavItem=/* @__PURE__ */_export_sfc(_sfc_main$f,[["__scopeId","data-v-1fe37e42"]]);var NavFolder_vue_vue_type_style_index_0_scoped_true_lang='';const _hoisted_1$b={class:"item-title"};const _sfc_main$e=/* @__PURE__ */defineComponent({props:{title:{type:String,default:"\u65E0\u6807\u9898\u7EC4"},data:{type:Object,required:true},parentIndex:{type:Number,required:true}},emits:["click"],setup(__props,{emit}){const isExpand=ref(true);const clickHandler=()=>{isExpand.value=!isExpand.value;};return(_ctx,_cache)=>{return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("li",{onClick:clickHandler},[createVNode(_sfc_main$k,{class:"icon",name:"group"}),createBaseVNode("span",_hoisted_1$b,toDisplayString(__props.title),1),createVNode(_sfc_main$k,{class:"icon",name:"down-arrow"})]),(openBlock(true),createElementBlock(Fragment,null,renderList(__props.data,(item,index)=>{return withDirectives((openBlock(),createBlock(NavItem,{key:index,class:"todo-group-list",data:item,onClick:$event=>emit("click",index,__props.parentIndex)},null,8,["data","onClick"])),[[vShow,isExpand.value]]);}),128))],64);};}});var NavFolder=/* @__PURE__ */_export_sfc(_sfc_main$e,[["__scopeId","data-v-29104c08"]]);var NavMenu_vue_vue_type_style_index_0_scoped_true_lang='';const _hoisted_1$a={class:"menu-wrapper"};const _hoisted_2$7={class:"body"};const _hoisted_3$6={class:"nav-menu"};const _hoisted_4$5={key:2,class:"delimiter"};const _sfc_main$d=/* @__PURE__ */defineComponent({emits:["nav-change"],setup(__props,{emit}){const dataStore=useDataStore();const menuData=computed(()=>{return fixedMenuData.value.concat(dataStore.navData);});const clearClick=(dataRef=menuData.value)=>{dataRef.forEach(obj=>{if(!obj.isLeaf){clearClick(obj.children);}else{obj.isChecked=false;}});};const clickHandler=(outsideIndex,innerIndex,dataRef=menuData.value)=>{if(innerIndex){clickHandler(outsideIndex,void 0,dataRef[innerIndex].children);}else{clearClick();dataRef[outsideIndex].isChecked=true;emit("nav-change",dataRef[outsideIndex]);}};const searchHandler=value=>{console.log(value);};return(_ctx,_cache)=>{return openBlock(),createElementBlock("aside",_hoisted_1$a,[createBaseVNode("div",_hoisted_2$7,[createVNode(unref(MenuProfile)),createVNode(unref(MenuSearchBar),{onSearch:searchHandler}),createBaseVNode("nav",_hoisted_3$6,[createBaseVNode("ul",null,[(openBlock(true),createElementBlock(Fragment,null,renderList(unref(menuData),(item,index)=>{return openBlock(),createElementBlock(Fragment,{key:item.id},[!item.isLeaf?(openBlock(),createBlock(unref(NavFolder),{key:0,title:item.name,data:item.children||[],"parent-index":index,onClick:clickHandler},null,8,["title","data","parent-index"])):(openBlock(),createBlock(unref(NavItem),{key:1,data:item,onClick:$event=>clickHandler(index)},null,8,["data","onClick"])),index===4?(openBlock(),createElementBlock("hr",_hoisted_4$5)):createCommentVNode("",true)],64);}),128))])])]),createVNode(unref(MenuFooter))]);};}});var NavMenu=/* @__PURE__ */_export_sfc(_sfc_main$d,[["__scopeId","data-v-9d571736"]]);var TodoItem_vue_vue_type_style_index_0_scoped_true_lang='';const _withScopeId$4=n=>(pushScopeId("data-v-1b8b2cbe"),n=n(),popScopeId(),n);const _hoisted_1$9={class:"todo-item"};const _hoisted_2$6={class:"todo-info"};const _hoisted_3$5={class:"todo-detail"};const _hoisted_6$3=/* @__PURE__ */_withScopeId$4(()=>/* @__PURE__ */createBaseVNode("span",null,"\u2022",-1));const _sfc_main$c=/* @__PURE__ */defineComponent({props:{data:{type:Object,required:true}},setup(__props){return(_ctx,_cache)=>{return openBlock(),createElementBlock("li",_hoisted_1$9,[createVNode(_sfc_main$k,{class:normalizeClass(["icon tick",{"tick-completed":__props.data.done}]),name:"check"},null,8,["class"]),createBaseVNode("div",_hoisted_2$6,[createBaseVNode("div",{class:normalizeClass(["todo-text",{"todo-text-completed":__props.data.done}])},toDisplayString(__props.data.title),3),createBaseVNode("div",_hoisted_3$5,[createCommentVNode("",true),__props.data.deadline?(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(_sfc_main$k,{class:"icon calendar",name:"calendar"}),createBaseVNode("span",null,toDisplayString(__props.data.deadline),1),_hoisted_6$3],64)):createCommentVNode("",true)])]),__props.data.importance?(openBlock(),createBlock(_sfc_main$k,{key:0,class:"icon",name:"star-solid"})):(openBlock(),createBlock(_sfc_main$k,{key:1,class:"icon",name:"star"}))]);};}});var TodoItem=/* @__PURE__ */_export_sfc(_sfc_main$c,[["__scopeId","data-v-1b8b2cbe"]]);var BoardFooter_vue_vue_type_style_index_0_scoped_true_lang='';const _withScopeId$3=n=>(pushScopeId("data-v-0a67bd39"),n=n(),popScopeId(),n);const _hoisted_1$8={class:"footer"};const _hoisted_2$5={class:"add-todo"};const _hoisted_3$4=/* @__PURE__ */_withScopeId$3(()=>/* @__PURE__ */createBaseVNode("div",{id:"icon",name:"check"},null,-1));const _hoisted_4$4=["onKeyup"];const _hoisted_5$4={class:"selector"};const _hoisted_6$2={class:"list-selector"};const _hoisted_7$2={class:"list-text"};const _hoisted_8$1={class:"calender-selector"};const _hoisted_9$1={class:"calender-text"};const _hoisted_10$1={class:"loop-selector"};const _hoisted_11$1={class:"loop-text"};const _sfc_main$b=/* @__PURE__ */defineComponent({props:{currentList:null},emits:["submit"],setup(__props,{emit}){const props=__props;const s=useDataStore();const inputStr=ref("");const selectListTitle=ref(props.currentList.name);const selectListID=ref(props.currentList.id);watch(toRef(props,"currentList"),newVal=>{selectListID.value=newVal.id;selectListTitle.value=newVal.name;});const listArray=computed(()=>{return s.todoListData.map(item=>({text:item.name,id:item.id,iconName:"list"}));});const listLmbMenu=reactive({data:listArray.value,handler:(index,id)=>{selectListTitle.value=listLmbMenu.data[index].text;selectListID.value=id||-1n;}});const inputHandler=()=>{const todo={title:inputStr.value,todolistId:selectListID.value};emit("submit",todo);inputStr.value="";};const pos=ref("top");return(_ctx,_cache)=>{const _directive_lmb_menu=resolveDirective("lmb-menu");return openBlock(),createElementBlock("footer",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$5,[_hoisted_3$4,withDirectives(createBaseVNode("input",{"onUpdate:modelValue":_cache[0]||(_cache[0]=$event=>inputStr.value=$event),class:"add-todo-input",type:"text",onKeyup:withKeys(inputHandler,["enter"])},null,40,_hoisted_4$4),[[vModelText,inputStr.value]]),withDirectives(createBaseVNode("div",_hoisted_5$4,[withDirectives((openBlock(),createElementBlock("div",_hoisted_6$2,[createVNode(_sfc_main$k,{class:"icon",name:"list"}),createBaseVNode("span",_hoisted_7$2,toDisplayString(selectListTitle.value),1)])),[[_directive_lmb_menu,unref(listLmbMenu),pos.value]]),createBaseVNode("div",_hoisted_8$1,[createVNode(_sfc_main$k,{class:"icon",name:"calendar"}),createBaseVNode("span",_hoisted_9$1,toDisplayString(),1)]),createBaseVNode("div",_hoisted_10$1,[createVNode(_sfc_main$k,{class:"icon",name:"loop"}),createBaseVNode("span",_hoisted_11$1,toDisplayString(),1)])],512),[[vShow,true]])])]);};}});var BoardFooter=/* @__PURE__ */_export_sfc(_sfc_main$b,[["__scopeId","data-v-0a67bd39"]]);var BoardHeader_vue_vue_type_style_index_0_scoped_true_lang='';const _withScopeId$2=n=>(pushScopeId("data-v-7a838a63"),n=n(),popScopeId(),n);const _hoisted_1$7={class:"board-header"};const _hoisted_2$4={key:0,class:"header-title"};const _hoisted_3$3=/* @__PURE__ */_withScopeId$2(()=>/* @__PURE__ */createBaseVNode("h1",null,"\u6211\u7684\u4E00\u5929",-1));const _hoisted_4$3=/* @__PURE__ */_withScopeId$2(()=>/* @__PURE__ */createBaseVNode("p",null,"2\u67081\u65E5\uFF0C\u661F\u671F\u4E8C",-1));const _hoisted_5$3=[_hoisted_3$3,_hoisted_4$3];const _hoisted_6$1={class:"header-title-text"};const _hoisted_7$1={class:"header-button-group"};const _sfc_main$a=/* @__PURE__ */defineComponent({props:{type:null,iconName:{default:"list"},title:{default:"\u7A7A\u5217\u8868"}},setup(__props){return(_ctx,_cache)=>{return openBlock(),createElementBlock("header",_hoisted_1$7,[__props.type==="my-day"?(openBlock(),createElementBlock("div",_hoisted_2$4,_hoisted_5$3)):(openBlock(),createElementBlock(Fragment,{key:1},[createVNode(_sfc_main$k,{class:"header-title-icon",name:__props.iconName},null,8,["name"]),createBaseVNode("span",_hoisted_6$1,toDisplayString(__props.title),1)],64)),createBaseVNode("div",_hoisted_7$1,[createVNode(_sfc_main$k,{class:"icon",name:"bulb"}),createVNode(_sfc_main$k,{class:"icon",name:"settings"})])]);};}});var BoardHeader=/* @__PURE__ */_export_sfc(_sfc_main$a,[["__scopeId","data-v-7a838a63"]]);var TodoDetail_vue_vue_type_style_index_0_scoped_true_lang='';const _withScopeId$1=n=>(pushScopeId("data-v-f46e94fe"),n=n(),popScopeId(),n);const _hoisted_1$6={class:"todo-detail"};const _hoisted_2$3={class:"todo-steps"};const _hoisted_3$2={class:"steps-title"};const _hoisted_4$2=/* @__PURE__ */_withScopeId$1(()=>/* @__PURE__ */createBaseVNode("input",{type:"text"},null,-1));const _hoisted_5$2={class:"step-item"};const _hoisted_6=/* @__PURE__ */_withScopeId$1(()=>/* @__PURE__ */createBaseVNode("input",{type:"text"},null,-1));const _hoisted_7=/* @__PURE__ */_withScopeId$1(()=>/* @__PURE__ */createBaseVNode("hr",{class:"delimiter"},null,-1));const _hoisted_8={class:"step-item"};const _hoisted_9=/* @__PURE__ */_withScopeId$1(()=>/* @__PURE__ */createBaseVNode("input",{type:"text"},null,-1));const _hoisted_10={class:"item-list"};const _hoisted_11={class:"detail-item"};const _hoisted_12=/* @__PURE__ */_withScopeId$1(()=>/* @__PURE__ */createBaseVNode("span",null,'\u6DFB\u52A0\u5230"\u6211\u7684\u4E00\u5929"',-1));const _hoisted_13={class:"item-list"};const _hoisted_14={class:"detail-item"};const _hoisted_15=/* @__PURE__ */_withScopeId$1(()=>/* @__PURE__ */createBaseVNode("span",null,"\u63D0\u9192\u6211",-1));const _hoisted_16=/* @__PURE__ */_withScopeId$1(()=>/* @__PURE__ */createBaseVNode("hr",{class:"delimiter"},null,-1));const _hoisted_17={class:"detail-item"};const _hoisted_18=/* @__PURE__ */_withScopeId$1(()=>/* @__PURE__ */createBaseVNode("span",null,"\u6DFB\u52A0\u622A\u81F3\u65E5\u671F",-1));const _hoisted_19=/* @__PURE__ */_withScopeId$1(()=>/* @__PURE__ */createBaseVNode("hr",{class:"delimiter"},null,-1));const _hoisted_20={class:"detail-item"};const _hoisted_21=/* @__PURE__ */_withScopeId$1(()=>/* @__PURE__ */createBaseVNode("span",null,"\u91CD\u590D",-1));const _hoisted_22={class:"item-list"};const _hoisted_23={class:"detail-item"};const _hoisted_24=/* @__PURE__ */_withScopeId$1(()=>/* @__PURE__ */createBaseVNode("span",null,"\u6DFB\u52A0\u6587\u4EF6",-1));const _hoisted_25=/* @__PURE__ */_withScopeId$1(()=>/* @__PURE__ */createBaseVNode("textarea",{cols:"30",rows:"10"},null,-1));const _sfc_main$9=/* @__PURE__ */defineComponent({setup(__props){return(_ctx,_cache)=>{return openBlock(),createElementBlock("div",_hoisted_1$6,[createVNode(_sfc_main$k,{class:"icon close",name:"close"}),createBaseVNode("ul",_hoisted_2$3,[createBaseVNode("li",_hoisted_3$2,[createVNode(_sfc_main$k,{class:"icon tick",name:"check"}),_hoisted_4$2,createVNode(_sfc_main$k,{class:"icon important",name:"star"})]),createBaseVNode("li",_hoisted_5$2,[createVNode(_sfc_main$k,{class:"icon tick",name:"check"}),_hoisted_6,createVNode(_sfc_main$k,{class:"icon delete",name:"close"})]),_hoisted_7,createBaseVNode("li",_hoisted_8,[createVNode(_sfc_main$k,{class:"icon tick",name:"check"}),_hoisted_9,createVNode(_sfc_main$k,{class:"icon delete",name:"close"})])]),createBaseVNode("ul",_hoisted_10,[createBaseVNode("div",_hoisted_11,[createVNode(_sfc_main$k,{class:"icon",name:"sun"}),_hoisted_12,createVNode(_sfc_main$k,{class:"icon cancel",name:"close"})])]),createBaseVNode("ul",_hoisted_13,[createBaseVNode("div",_hoisted_14,[createVNode(_sfc_main$k,{class:"icon",name:"alarm"}),_hoisted_15,createVNode(_sfc_main$k,{class:"icon cancel",name:"close"})]),_hoisted_16,createBaseVNode("div",_hoisted_17,[createVNode(_sfc_main$k,{class:"icon",name:"calendar"}),_hoisted_18,createVNode(_sfc_main$k,{class:"icon",name:"close"})]),_hoisted_19,createBaseVNode("div",_hoisted_20,[createVNode(_sfc_main$k,{class:"icon",name:"loop"}),_hoisted_21,createVNode(_sfc_main$k,{class:"icon",name:"close"})])]),createBaseVNode("ul",_hoisted_22,[createBaseVNode("div",_hoisted_23,[createVNode(_sfc_main$k,{class:"icon",name:"paperclip"}),_hoisted_24,createVNode(_sfc_main$k,{class:"icon cancel",name:"close"})])]),_hoisted_25]);};}});var TodoDetail=/* @__PURE__ */_export_sfc(_sfc_main$9,[["__scopeId","data-v-f46e94fe"]]);const getCurrentDailyTodos=async()=>{return[];};const getCurrentBasicTodos=async()=>{const resopnse=await http.get("/users/current/todos/basic");return resopnse.data;};const getCurrentImportantTodos=async()=>{const resopnse=await http.get("/users/current/todos/important");return resopnse.data;};const getCurrentInPlanTodos=async()=>{const resopnse=await http.get("/users/current/todos/planned");return resopnse.data;};const getCurrentUnnotifiedTodos=async()=>{const resopnse=await http.get("/users/current/todos/not-notified");return resopnse.data;};const getCurrentFixedTodos=async()=>{return{basicListData:await getCurrentBasicTodos(),dailyListData:await getCurrentDailyTodos(),plannedListData:await getCurrentInPlanTodos(),importantListData:await getCurrentImportantTodos(),unnotifiedListData:await getCurrentUnnotifiedTodos()};};const addTodo=async data=>{return http.post("/todos",data);};const getTodoByListId=async id=>{const resopnse=await http.get("/todo-lists/"+id+"/todos");return resopnse.data;};var MainBoard_vue_vue_type_style_index_0_scoped_true_lang='';const _hoisted_1$5={class:"main-board"};const _hoisted_2$2={class:"board-wrapper"};const _hoisted_3$1={class:"body"};const _hoisted_4$1={class:"todo-list"};const _hoisted_5$1={class:"aside"};const _sfc_main$8=/* @__PURE__ */defineComponent({props:{todoList:null},setup(__props){const props=__props;const s=useDataStore();const currentTodos=ref();ref([{id:3n,todoNum:1,isPrevious:true,itemArray:[{id:1n,title:"\u65F6\u95F4\u5217\u8868",isCompleted:false,isImportant:false,isInMyDay:false,deadline:"",isSync:true,haveAttachment:true,haveMemo:true}]}]);const fetchListData=async(todoListID,todoListType)=>{var _s$fixedTodoData,_s$fixedTodoData2,_s$fixedTodoData3,_s$fixedTodoData4;try{switch(todoListType){case"my-day":currentTodos.value=(_s$fixedTodoData=s.fixedTodoData)===null||_s$fixedTodoData===void 0?void 0:_s$fixedTodoData.dailyListData;break;case"in-plan":currentTodos.value=(_s$fixedTodoData2=s.fixedTodoData)===null||_s$fixedTodoData2===void 0?void 0:_s$fixedTodoData2.plannedListData;break;case"important-todo":currentTodos.value=(_s$fixedTodoData3=s.fixedTodoData)===null||_s$fixedTodoData3===void 0?void 0:_s$fixedTodoData3.importantListData;break;case"task-todo":currentTodos.value=(_s$fixedTodoData4=s.fixedTodoData)===null||_s$fixedTodoData4===void 0?void 0:_s$fixedTodoData4.basicListData;break;case"todo-list":currentTodos.value=await getTodoByListId(todoListID);break;default:return;}}catch(err){OpenMessage("\u8BF7\u6C42\u6570\u636E\u5931\u8D25",2);}};watch(toRef(props,"todoList"),newVal=>{fetchListData(newVal.id,newVal.type);});const submitHandler=item=>{addTodo(item).then(()=>{fetchListData(props.todoList.id,props.todoList.type);}).catch(()=>{OpenMessage("\u6DFB\u52A0Todo\u5931\u8D25");});};return(_ctx,_cache)=>{return openBlock(),createElementBlock("div",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$1,[createVNode(BoardHeader,{type:__props.todoList.type,"icon-name":__props.todoList.iconName,title:__props.todoList.name},null,8,["type","icon-name","title"]),createBaseVNode("ul",_hoisted_4$1,[(openBlock(true),createElementBlock(Fragment,null,renderList(currentTodos.value,item=>{return openBlock(),createBlock(TodoItem,{key:item.id.toString(),data:item},null,8,["data"]);}),128))])]),createVNode(BoardFooter,{"current-list":__props.todoList,onSubmit:submitHandler},null,8,["current-list"])]),createBaseVNode("div",_hoisted_5$1,[createVNode(TodoDetail)])]);};}});var MainBoard=/* @__PURE__ */_export_sfc(_sfc_main$8,[["__scopeId","data-v-793a442f"]]);const getCurrentMenu=async()=>{const response=await http.get("/users/current/menu");return response.data;};const getCurrentTodoList=async()=>{const resopnse=await http.get("/users/current/todo-lists");return resopnse.data;};var index_vue_vue_type_style_index_0_lang='';const _sfc_main$7=/* @__PURE__ */defineComponent({setup(__props){const s=useDataStore();const currentNavItem=ref(fixedMenuData.value[0]);function handleNavChange(navItem){currentNavItem.value=navItem;}onMounted(async()=>{const f=async fn=>{try{await fn();}catch(err){OpenMessage("\u8BF7\u6C42\u670D\u52A1\u5668\u4FE1\u606F\u5931\u8D25\uFF01",2);}};await Promise.allSettled([f(async()=>s.setUser(await getCurrentUser())),f(async()=>s.setNavTree(await getCurrentMenu())),f(async()=>s.setTodoList(await getCurrentTodoList())),f(async()=>s.setFixedTodo(await getCurrentFixedTodos()))]);});return(_ctx,_cache)=>{return openBlock(),createElementBlock(Fragment,null,[createVNode(NavMenu,{onNavChange:handleNavChange}),createVNode(MainBoard,{"todo-list":currentNavItem.value},null,8,["todo-list"])],64);};}});var Button_vue_vue_type_style_index_0_scoped_true_lang='';const _hoisted_1$4=["value","disabled"];const _sfc_main$6=/* @__PURE__ */defineComponent({props:{title:null,loading:{type:Boolean}},emits:["click"],setup(__props,{emit}){const props=__props;return(_ctx,_cache)=>{return openBlock(),createElementBlock("input",{type:"submit",value:props.title,disabled:props.loading,onClick:_cache[0]||(_cache[0]=withModifiers($event=>emit("click"),["prevent"]))},null,8,_hoisted_1$4);};}});var OButton=/* @__PURE__ */_export_sfc(_sfc_main$6,[["__scopeId","data-v-8d312fe0"]]);var _imports_0="data:image/gif;base64,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";var _imports_1="/oToDo-UI/assets/oToDo-logo.87189c39.jpg";var Card_vue_vue_type_style_index_0_scoped_true_lang='';const _withScopeId=n=>(pushScopeId("data-v-ef8f030c"),n=n(),popScopeId(),n);const _hoisted_1$3={class:"wrapper"};const _hoisted_2$1={class:"login-box"};const _hoisted_3=/* @__PURE__ */_withScopeId(()=>/* @__PURE__ */createBaseVNode("img",{class:"img-logo",src:_imports_1,alt:"oToDo-logo"},null,-1));const _hoisted_4={class:"input-group"};const _hoisted_5={class:"button-group"};const _sfc_main$5=/* @__PURE__ */defineComponent({props:{title:null,loading:{type:Boolean}},setup(__props){const props=__props;return(_ctx,_cache)=>{return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("form",_hoisted_2$1,[createBaseVNode("img",{class:normalizeClass(["img-loading",{hidden:props.loading}]),src:_imports_0,alt:"logging-in"},null,2),_hoisted_3,createBaseVNode("h1",null,toDisplayString(props.title),1),createBaseVNode("div",_hoisted_4,[renderSlot(_ctx.$slots,"default",{},void 0,true)]),createBaseVNode("div",_hoisted_5,[renderSlot(_ctx.$slots,"footer",{},void 0,true)])])]);};}});var OCard=/* @__PURE__ */_export_sfc(_sfc_main$5,[["__scopeId","data-v-ef8f030c"]]);function validForm(from){for(const[,v]of Object.entries(from)){v.isValid=true;if(v.val===""){v.isValid=false;return false;}}return true;}var Input_vue_vue_type_style_index_0_scoped_true_lang='';const _hoisted_1$2=["type","name","disabled","placeholder"];const _sfc_main$4=/* @__PURE__ */defineComponent({props:{modelValue:null,valid:{type:Boolean},loading:{type:Boolean},title:null,type:{default:"text"},name:{default:""},placeholder:{default:""}},emits:["update:modelValue"],setup(__props,{emit}){const props=__props;const value=computed({get(){return props.modelValue;},set(val){emit("update:modelValue",val);}});return(_ctx,_cache)=>{return openBlock(),createElementBlock("div",{class:normalizeClass(["group-row",{"group-wearning":!props.valid}])},[createBaseVNode("p",null,toDisplayString(props.title),1),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":_cache[0]||(_cache[0]=$event=>isRef(value)?value.value=$event:null),type:props.type,name:props.name,disabled:__props.loading,placeholder:props.placeholder},null,8,_hoisted_1$2),[[vModelDynamic,unref(value)]])],2);};}});var OInput=/* @__PURE__ */_export_sfc(_sfc_main$4,[["__scopeId","data-v-6fb6981f"]]);var Link_vue_vue_type_style_index_0_scoped_true_lang='';const _hoisted_1$1={class:"olink"};const _sfc_main$3=/* @__PURE__ */defineComponent({props:{title:null,event:null},emits:["click"],setup(__props,{emit}){const props=__props;return(_ctx,_cache)=>{return openBlock(),createElementBlock("p",_hoisted_1$1,[createTextVNode(toDisplayString(props.title)+" ",1),createBaseVNode("a",{onClick:_cache[0]||(_cache[0]=$event=>emit("click"))},toDisplayString(props.event),1)]);};}});var OLink=/* @__PURE__ */_export_sfc(_sfc_main$3,[["__scopeId","data-v-91b1b28a"]]);const getGithubOAuthRedirector=async()=>{const response=await http.get("/sessions/oauth/github");return response.data;};const loginByGithubOAuth=async(code,state)=>{const response=await http.post("/sessions/oauth/github",{code,state},{headers:{needToken:false}});const{accessToken,expiresIn,refreshToken}=response.data;token.setAccessToken(accessToken,expiresIn);if(typeof refreshToken=="string"){token.setRefreshToken(refreshToken);}};async function goOAuthLogin(){try{const{redirectURI}=await getGithubOAuthRedirector();globalThis.window.location.href=redirectURI;}catch(e){console.log(e);}}function tryGithubOAuthLogin(code,state){return loginByGithubOAuth(code,state);}const _sfc_main$2=/* @__PURE__ */defineComponent({setup(__props){const router=useRouter();const isLoading=ref(false);const form=reactive({username:{val:"",isValid:true},password:{val:"",isValid:true}});const redirectToRegister=()=>{router.push("/register");};const handleLogin=()=>{isLoading.value=true;if(validForm(form)===false){isLoading.value=false;return;}loginSession(form.username.val,form.password.val).then(()=>router.push("/")).catch(err=>{isLoading.value=false;OpenMessage(err,2);});};onMounted(async()=>{const q=router.currentRoute.value.query;if(typeof q["username"]=="string"){form.username.val=q["username"];}if(typeof q["code"]=="string"&&typeof q["state"]=="string"){isLoading.value=true;tryGithubOAuthLogin(q["code"],q["state"]).then(()=>{router.push("/");}).catch(err=>{OpenMessage(err,2);}).finally(()=>{isLoading.value=false;});}});return(_ctx,_cache)=>{return openBlock(),createBlock(OCard,{loading:isLoading.value,title:"oToDo Login"},{default:withCtx(()=>[createVNode(OInput,{modelValue:unref(form).username.val,"onUpdate:modelValue":_cache[0]||(_cache[0]=$event=>unref(form).username.val=$event),valid:unref(form).username.isValid,loading:isLoading.value,title:"\u8BF7\u8F93\u5165\u6709\u6548\u7684\u7535\u5B50\u90AE\u4EF6\u5730\u5740\u3001\u7535\u8BDD\u53F7\u7801\u6216 Skype \u7528\u6237\u540D",name:"username",placeholder:"\u7528\u6237\u540D\u3001\u7535\u5B50\u90AE\u4EF6\u3001\u7535\u8BDD\u6216 Skype"},null,8,["modelValue","valid","loading"]),createVNode(OInput,{modelValue:unref(form).password.val,"onUpdate:modelValue":_cache[1]||(_cache[1]=$event=>unref(form).password.val=$event),valid:unref(form).password.isValid,loading:isLoading.value,title:"\u8BF7\u8F93\u5165\u6709\u6548\u7684\u5BC6\u7801",type:"password",name:"password",placeholder:"\u5BC6\u7801"},null,8,["modelValue","valid","loading"]),createVNode(OLink,{title:"\u7B2C\u4E09\u65B9\u767B\u9646",event:"GitHub",onClick:unref(goOAuthLogin)},null,8,["onClick"]),createVNode(OLink,{title:"\u6CA1\u6709\u8D26\u6237\uFF1F",event:"\u521B\u5EFA\u4E00\u4E2A",onClick:redirectToRegister})]),footer:withCtx(()=>[createVNode(OButton,{title:"\u767B\u5F55",loading:isLoading.value,onClick:handleLogin},null,8,["loading"])]),_:1},8,["loading"]);};}});const _sfc_main$1=/* @__PURE__ */defineComponent({setup(__props){const router=useRouter();const isLoading=ref(false);const registerForm=reactive({username:{val:"",isValid:true},password:{val:"",isValid:true},nickname:{val:"",isValid:true}});const redirectToLogin=username=>{if(username){router.push({path:"/login",query:{username}});}else{router.push("/login");}};const handleRegister=()=>{isLoading.value=true;if(validForm(registerForm)===false){isLoading.value=false;return;}register(registerForm.username.val,registerForm.nickname.val,registerForm.password.val).then(()=>{redirectToLogin(registerForm.username.val);}).catch(err=>{OpenMessage(err,2);}).finally(()=>{isLoading.value=false;});};return(_ctx,_cache)=>{return openBlock(),createBlock(OCard,{title:"oToDo Register",loading:isLoading.value},{default:withCtx(()=>[createVNode(OInput,{modelValue:unref(registerForm).username.val,"onUpdate:modelValue":_cache[0]||(_cache[0]=$event=>unref(registerForm).username.val=$event),valid:unref(registerForm).username.isValid,loading:isLoading.value,title:"\u8BF7\u8F93\u5165\u6709\u6548\u7684\u7535\u5B50\u90AE\u4EF6\u5730\u5740\u3001\u7535\u8BDD\u53F7\u7801\u6216 Skype \u7528\u6237\u540D",name:"username",placeholder:"\u7528\u6237\u540D\u3001\u7535\u5B50\u90AE\u4EF6\u3001\u7535\u8BDD\u6216 Skype"},null,8,["modelValue","valid","loading"]),createVNode(OInput,{modelValue:unref(registerForm).nickname.val,"onUpdate:modelValue":_cache[1]||(_cache[1]=$event=>unref(registerForm).nickname.val=$event),valid:unref(registerForm).nickname.isValid,loading:isLoading.value,title:"\u8BF7\u8F93\u5165\u6709\u6548\u7684\u6635\u79F0",name:"nickname",placeholder:"\u6635\u79F0"},null,8,["modelValue","valid","loading"]),createVNode(OInput,{modelValue:unref(registerForm).password.val,"onUpdate:modelValue":_cache[2]||(_cache[2]=$event=>unref(registerForm).password.val=$event),valid:unref(registerForm).password.isValid,loading:isLoading.value,title:"\u8BF7\u8F93\u5165\u6709\u6548\u7684\u5BC6\u7801",type:"password",name:"password",placeholder:"\u5BC6\u7801"},null,8,["modelValue","valid","loading"]),createVNode(OLink,{title:"\u5DF2\u7ECF\u6709\u4E86\u8D26\u6237\uFF1F",event:"\u53BB\u767B\u5F55",onClick:redirectToLogin})]),footer:withCtx(()=>[createVNode(OButton,{title:"\u767B\u5F55",loading:isLoading.value,onClick:handleRegister},null,8,["loading"])]),_:1},8,["loading"]);};}});const routes=[{path:"/",component:_sfc_main$7,name:"main",meta:{requiresAuth:true}},{path:"/login",component:_sfc_main$2,name:"login",meta:{requiresAuth:false}},{path:"/register",component:_sfc_main$1,name:"register",meta:{requiresAuth:false}}];const router=createRouter({history:createWebHistory("/oToDo-UI/"),routes});router.beforeEach(to=>{if(to.meta.requiresAuth&&!isLoggedIn()){return{path:"/login",query:{redirect:to.fullPath}};}else if(!to.meta.requiresAuth){TokenTimer.getInstance().stopTimer();}else{TokenTimer.getInstance().startTimer();}});if(typeof window!=='undefined'){function loadSvg(){var body=document.body;var svgDom=document.getElementById('__svg__icons__dom__');if(!svgDom){svgDom=document.createElementNS('http://www.w3.org/2000/svg','svg');svgDom.style.position='absolute';svgDom.style.width='0';svgDom.style.height='0';svgDom.id='__svg__icons__dom__';svgDom.setAttribute('xmlns','http://www.w3.org/2000/svg');svgDom.setAttribute('xmlns:link','http://www.w3.org/1999/xlink');}svgDom.innerHTML="<symbol viewBox=\"0 0 24 24\" id=\"icon-alarm\"><path fill=\"currentColor\" d=\"M12 20a7 7 0 0 1-7-7 7 7 0 0 1 7-7 7 7 0 0 1 7 7 7 7 0 0 1-7 7m0-16a9 9 0 0 0-9 9 9 9 0 0 0 9 9 9 9 0 0 0 9-9 9 9 0 0 0-9-9m.5 4H11v6l4.75 2.85.75-1.23-4-2.37V8M7.88 3.39 6.6 1.86 2 5.71l1.29 1.53 4.59-3.85M22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-bulb\"><path fill=\"currentColor\" d=\"M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-calendar\"><path fill=\"currentColor\" d=\"M19 4h-1V2h-2v2H8V2H6v2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2m0 16H5V10h14v10m0-12H5V6h14v2Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-check\"><path fill=\"currentColor\" d=\"M21 7 9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59 21 7Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-circle\"><path fill=\"currentColor\" d=\"M12 20a8 8 0 0 1-8-8 8 8 0 0 1 8-8 8 8 0 0 1 8 8 8 8 0 0 1-8 8m0-18A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-close\"><path fill=\"currentColor\" d=\"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-down-arrow\"><path fill=\"currentColor\" d=\"M7.41 8.58 12 13.17l4.59-4.59L18 10l-6 6-6-6 1.41-1.42Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-expand\"><path fill=\"currentColor\" d=\"M12 18.17 8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15M12 5.83 15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-group\"><path fill=\"currentColor\" d=\"M20 18H4V8h16m0-2h-8l-2-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-home\"><path fill=\"currentColor\" d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-list\"><path fill=\"currentColor\" d=\"M7 5h14v2H7V5m0 8v-2h14v2H7M4 4.5A1.5 1.5 0 0 1 5.5 6 1.5 1.5 0 0 1 4 7.5 1.5 1.5 0 0 1 2.5 6 1.5 1.5 0 0 1 4 4.5m0 6A1.5 1.5 0 0 1 5.5 12 1.5 1.5 0 0 1 4 13.5 1.5 1.5 0 0 1 2.5 12 1.5 1.5 0 0 1 4 10.5M7 19v-2h14v2H7m-3-2.5A1.5 1.5 0 0 1 5.5 18 1.5 1.5 0 0 1 4 19.5 1.5 1.5 0 0 1 2.5 18 1.5 1.5 0 0 1 4 16.5Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-loop\"><path fill=\"currentColor\" d=\"M12 6v3l4-4-4-4v3a8 8 0 0 0-8 8c0 1.57.46 3.03 1.24 4.26L6.7 14.8A5.9 5.9 0 0 1 6 12a6 6 0 0 1 6-6m6.76 1.74L17.3 9.2c.44.84.7 1.8.7 2.8a6 6 0 0 1-6 6v-3l-4 4 4 4v-3a8 8 0 0 0 8-8c0-1.57-.46-3.03-1.24-4.26Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-new-group\"><path fill=\"currentColor\" d=\"M12 12h2v-2h2v2h2v2h-2v2h-2v-2h-2v-2m10-4v10c0 1.11-.89 2-2 2H4c-1.11 0-2-.89-2-2V6c0-1.11.89-2 2-2h6l2 2h8c1.11 0 2 .89 2 2m-2 0H4v10h16V8Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-note\"><path fill=\"currentColor\" d=\"M14 10h5.5L14 4.5V10M5 3h10l6 6v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-1.11.89-2 2-2m0 2v14h14v-7h-7V5H5Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-paperclip\"><path fill=\"currentColor\" d=\"M16.5 6v11.5a4 4 0 0 1-4 4 4 4 0 0 1-4-4V5A2.5 2.5 0 0 1 11 2.5 2.5 2.5 0 0 1 13.5 5v10.5a1 1 0 0 1-1 1 1 1 0 0 1-1-1V6H10v9.5a2.5 2.5 0 0 0 2.5 2.5 2.5 2.5 0 0 0 2.5-2.5V5a4 4 0 0 0-4-4 4 4 0 0 0-4 4v12.5a5.5 5.5 0 0 0 5.5 5.5 5.5 5.5 0 0 0 5.5-5.5V6h-1.5Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-plan\"><path fill=\"currentColor\" d=\"M19 3h-1V1h-2v2H8V1H6v2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h5v-2H5V8h14v1h2V5a2 2 0 0 0-2-2m2.7 10.35-1 1-2.05-2 1-1c.2-.21.54-.22.77 0l1.28 1.28c.19.2.19.52 0 .72M12 18.94l6.07-6.06 2.05 2L14.06 21H12v-2.06Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-plus\"><path fill=\"currentColor\" d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-search\"><path fill=\"currentColor\" d=\"M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-settings\"><path fill=\"currentColor\" d=\"M3 17v2h6v-2H3M3 5v2h10V5H3m10 16v-2h8v-2h-8v-2h-2v6h2M7 9v2H3v2h4v2h2V9H7m14 4v-2H11v2h10m-6-4h2V7h4V5h-4V3h-2v6Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-star-solid\"><path fill=\"currentColor\" d=\"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.62L12 2 9.19 8.62 2 9.24l5.45 4.73L5.82 21 12 17.27Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-star\"><path fill=\"currentColor\" d=\"m12 15.39-3.76 2.27.99-4.28-3.32-2.88 4.38-.37L12 6.09l1.71 4.04 4.38.37-3.32 2.88.99 4.28M22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.45 4.73L5.82 21 12 17.27 18.18 21l-1.64-7.03L22 9.24Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-sun\"><path fill=\"currentColor\" d=\"M12 18a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-2.69L23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69Z\" /></symbol><symbol viewBox=\"0 0 24 24\" id=\"icon-user\"><path fill=\"currentColor\" d=\"M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 2a2 2 0 0 0-2 2 2 2 0 0 0 2 2 2 2 0 0 0 2-2 2 2 0 0 0-2-2m0 7c2.67 0 8 1.33 8 4v3H4v-3c0-2.67 5.33-4 8-4m0 1.9c-2.97 0-6.1 1.46-6.1 2.1v1.1h12.2V17c0-.64-3.13-2.1-6.1-2.1Z\" /></symbol>";body.insertBefore(svgDom,body.lastChild);}if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',loadSvg);}else{loadSvg();}}var MbMenu_vue_vue_type_style_index_0_scoped_true_lang='';const _hoisted_1=["onClick"];const _hoisted_2={class:"item-text"};const _sfc_main=/* @__PURE__ */defineComponent({props:{data:{type:Object,required:true}},emits:["oclick"],setup(__props,{emit}){const clickHandler=(index,id)=>{emit("oclick",index,id);};return(_ctx,_cache)=>{return openBlock(),createElementBlock("ul",null,[(openBlock(true),createElementBlock(Fragment,null,renderList(__props.data,(item,index)=>{return openBlock(),createElementBlock("li",{key:index,class:"pop-item",onClick:withModifiers($event=>clickHandler(index,item.id),["stop"])},[createVNode(_sfc_main$k,{class:"icon",name:item.iconName},null,8,["name"]),createBaseVNode("span",_hoisted_2,toDisplayString(item.text),1)],8,_hoisted_1);}),128))]);};}});var MbMenu=/* @__PURE__ */_export_sfc(_sfc_main,[["__scopeId","data-v-d57e5894"]]);const menuPosition=position=>{switch(position){case"top":return"bottom: 100% ;";case"bottom":return"top: 100% ;";default:return"bottom: 100%;";}};let div=null;const removeElememt=ele=>{if(ele!==null){ele.remove();ele=null;}};const lmbDirective=(el,binding)=>{document.body.addEventListener("click",()=>{removeElememt(div);});el.addEventListener("click",e=>{e.stopPropagation();removeElememt(div);div=document.createElement("div");div.style.cssText="position: absolute;"+menuPosition(binding.arg);el.appendChild(div);const VNode=h(MbMenu,{data:binding.value.data,onOclick:(index,id)=>{removeElememt(div);binding.value.handler(index,id);}});render(VNode,div);});};const app=createApp(App);app.use(Store);app.use(router);app.mount("#app");app.directive("lmbMenu",lmbDirective);}};});})();
